---
title: 'Recurring Transaction API'
description: 'Set up and manage recurring payment schedules'
---

# Recurring Transaction API

The Recurring Transaction API allows you to set up automatic, scheduled payments for your customers. This is ideal for subscription services, membership fees, installment payments, and other recurring billing needs.

## Create Recurring Payment

Set up a new recurring payment schedule.

### API Endpoint

```
POST /api/v1/public/recurring
```

### Request Parameters for New Payment Method

<ParamField body="RecurringType" type="string" required>
  Must be `CARD` or `ACH`
</ParamField>

<ParamField body="Amount" type="number" required>
  Transaction amount in dollars (e.g., 19.99)
</ParamField>

<ParamField body="Currency" type="string" default="USD">
  Three-letter ISO currency code
</ParamField>

<ParamField body="Frequency" type="string" required>
  One of: `daily`, `weekly`, `biweekly`, `monthly`, `quarterly`, `semiannual`, `annual`
</ParamField>

<ParamField body="StartDate" type="string" required>
  Date of first payment (ISO 8601 format, e.g., "2025-07-15")
</ParamField>

<ParamField body="EndDate" type="string">
  Optional end date (ISO 8601 format). If not provided, the recurring payment will continue until canceled.
</ParamField>

<ParamField body="MaxOccurrences" type="integer">
  Optional maximum number of payments. If provided, the recurring payment will stop after this many occurrences.
</ParamField>

<ParamField body="Description" type="string">
  Description of the recurring payment
</ParamField>

<ParamField body="CustomerId" type="string">
  Your system's customer identifier
</ParamField>

<ParamField body="Metadata" type="object">
  Additional data to store with the recurring payment
</ParamField>

#### For Card Payments

<ParamField body="CardNumber" type="string" required>
  The card number (PAN)
</ParamField>

<ParamField body="ExpirationMonth" type="string" required>
  Two-digit expiration month (e.g., "01" for January)
</ParamField>

<ParamField body="ExpirationYear" type="string" required>
  Four-digit expiration year (e.g., "2025")
</ParamField>

<ParamField body="CVV" type="string" required>
  Card verification value (3-4 digits)
</ParamField>

<ParamField body="FirstName" type="string" required>
  Cardholder's first name
</ParamField>

<ParamField body="LastName" type="string" required>
  Cardholder's last name
</ParamField>

<ParamField body="Address" type="string" required>
  Billing street address
</ParamField>

<ParamField body="City" type="string" required>
  Billing city
</ParamField>

<ParamField body="State" type="string" required>
  Billing state/province (2-letter code for US/CA)
</ParamField>

<ParamField body="PostalCode" type="string" required>
  Billing postal/ZIP code
</ParamField>

<ParamField body="Country" type="string" required>
  Billing country (2-letter ISO code)
</ParamField>

#### For ACH Payments

<ParamField body="AccountType" type="string" required>
  Either `checking` or `savings`
</ParamField>

<ParamField body="AccountNumber" type="string" required>
  Bank account number
</ParamField>

<ParamField body="RoutingNumber" type="string" required>
  9-digit ABA routing number
</ParamField>

<ParamField body="FirstName" type="string" required>
  Account holder's first name
</ParamField>

<ParamField body="LastName" type="string" required>
  Account holder's last name
</ParamField>

<ParamField body="Address" type="string" required>
  Account holder's street address
</ParamField>

<ParamField body="City" type="string" required>
  Account holder's city
</ParamField>

<ParamField body="State" type="string" required>
  Account holder's state (2-letter code)
</ParamField>

<ParamField body="PostalCode" type="string" required>
  Account holder's ZIP code
</ParamField>

<ParamField body="Country" type="string" required>
  Must be "US" for ACH transactions
</ParamField>

### Request Parameters for Stored Payment Method

If you already have a stored payment method (token), you can use it instead of providing the full payment details:

<ParamField body="RecurringType" type="string" required>
  Must be `TOKEN`
</ParamField>

<ParamField body="PaymentToken" type="string" required>
  The token representing the stored payment method
</ParamField>

<ParamField body="Amount" type="number" required>
  Transaction amount in dollars (e.g., 19.99)
</ParamField>

<ParamField body="Currency" type="string" default="USD">
  Three-letter ISO currency code
</ParamField>

<ParamField body="Frequency" type="string" required>
  One of: `daily`, `weekly`, `biweekly`, `monthly`, `quarterly`, `semiannual`, `annual`
</ParamField>

<ParamField body="StartDate" type="string" required>
  Date of first payment (ISO 8601 format, e.g., "2025-07-15")
</ParamField>

<ParamField body="EndDate" type="string">
  Optional end date (ISO 8601 format)
</ParamField>

<ParamField body="MaxOccurrences" type="integer">
  Optional maximum number of payments
</ParamField>

<ParamField body="Description" type="string">
  Description of the recurring payment
</ParamField>

<ParamField body="CustomerId" type="string">
  Your system's customer identifier
</ParamField>

<ParamField body="Metadata" type="object">
  Additional data to store with the recurring payment
</ParamField>

### Example Request - New Card Payment

```json
{
  "RecurringType": "CARD",
  "Amount": 29.99,
  "Currency": "USD",
  "Frequency": "monthly",
  "StartDate": "2025-08-01",
  "Description": "Premium Subscription",
  "CardNumber": "4111111111111111",
  "ExpirationMonth": "12",
  "ExpirationYear": "2026",
  "CVV": "123",
  "FirstName": "John",
  "LastName": "Doe",
  "Address": "123 Main St",
  "City": "Anytown",
  "State": "CA",
  "PostalCode": "12345",
  "Country": "US",
  "CustomerId": "cust_6789",
  "Metadata": {
    "plan_id": "premium_monthly",
    "user_id": "user_12345"
  }
}
```

### Example Request - Using Stored Payment Method

```json
{
  "RecurringType": "TOKEN",
  "PaymentToken": "tok_s9t8u7v6w5x4",
  "Amount": 29.99,
  "Currency": "USD",
  "Frequency": "monthly",
  "StartDate": "2025-08-01",
  "Description": "Premium Subscription",
  "CustomerId": "cust_6789",
  "Metadata": {
    "plan_id": "premium_monthly",
    "user_id": "user_12345"
  }
}
```

### Success Response

```json
{
  "status": "success",
  "data": {
    "recurringId": "rec_z1y2x3w4v5u6",
    "amount": 29.99,
    "currency": "USD",
    "frequency": "monthly",
    "startDate": "2025-08-01",
    "status": "active",
    "nextBillingDate": "2025-08-01",
    "paymentMethod": {
      "type": "card",
      "brand": "Visa",
      "last4": "1111",
      "expirationMonth": "12",
      "expirationYear": "2026"
    },
    "createdAt": "2025-07-03T10:45:12Z",
    "customerId": "cust_6789"
  }
}
```

## Recurring Payment Management Endpoints

### Get Recurring Payment

Retrieve details about a specific recurring payment.

```
GET /api/v1/public/recurring/{recurringId}
```

### Update Recurring Payment

Update the details of an existing recurring payment.

```
PUT /api/v1/public/recurring/{recurringId}
```

You can update the following fields:
- `Amount`
- `Frequency`
- `NextBillingDate` (to skip or reschedule a payment)
- `EndDate`
- `MaxOccurrences`
- `Description`
- `Metadata`

### Cancel Recurring Payment

Cancel an active recurring payment schedule.

```
DELETE /api/v1/public/recurring/{recurringId}
```

<Note>
  Canceling a recurring payment will prevent future payments but will not refund any previous payments.
</Note>

### List Recurring Payments

Retrieve a list of all recurring payments for a customer.

```
GET /api/v1/public/recurring?customerId={customerId}
```

## Error Codes

| Code | Description |
|------|-------------|
| `invalid_card` | The card information is invalid |
| `expired_card` | The card has expired |
| `invalid_bank_account` | The bank account information is invalid |
| `invalid_token` | The payment token is invalid or expired |
| `invalid_frequency` | The specified frequency is not supported |
| `invalid_start_date` | The start date is invalid or in the past |
| `invalid_data` | The request contains invalid data |
| `recurring_not_found` | The specified recurring payment ID does not exist |
| `recurring_already_canceled` | The recurring payment has already been canceled |

## Security

<Warning>
  Payment information should be handled securely. We recommend using our tokenization service to store payment methods rather than handling sensitive data directly.
</Warning>

All requests to the Recurring Transaction API must include your API key in the Authorization header:

```bash
Authorization: YOUR_API_KEY
```
